<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ù‚Ø´Ù‡ Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§ÛŒ Ø§ÛŒØ±Ø§Ù†</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background: #f0f4f8;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .header-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 24px;
            font-weight: 700;
        }

        .back-button {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .back-button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(5px);
        }

        /* Search Section */
        .search-section {
            background: white;
            padding: 25px 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .search-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-group {
            flex: 1;
            min-width: 200px;
        }

        .search-label {
            display: block;
            margin-bottom: 8px;
            color: #2d3748;
            font-weight: 500;
            font-size: 14px;
        }

        .search-select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 15px;
            color: #2d3748;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .search-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-select:disabled {
            background: #f7fafc;
            cursor: not-allowed;
            opacity: 0.6;
        }

        /* Map Container */
        .map-container {
            max-width: 1400px;
            margin: 30px auto;
            padding: 0 30px;
        }

        #map {
            height: 70vh;
            min-height: 500px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            z-index: 1;
        }

        /* Custom Popup */
        .leaflet-popup-content-wrapper {
            border-radius: 12px;
            padding: 0;
            overflow: hidden;
        }

        .weather-popup {
            padding: 20px;
            min-width: 250px;
        }

        .popup-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e2e8f0;
        }

        .popup-city {
            font-size: 20px;
            font-weight: 700;
            color: #2d3748;
        }

        .popup-icon {
            font-size: 48px;
        }

        .weather-info {
            display: grid;
            gap: 10px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
        }

        .info-label {
            color: #718096;
            font-size: 14px;
        }

        .info-value {
            color: #2d3748;
            font-weight: 600;
            font-size: 16px;
        }

        .temp-main {
            font-size: 36px !important;
            font-weight: 700;
            color: #667eea;
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #e2e8f0;
            border-top-color: #667eea;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Weather Animations */
        @keyframes sunny {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(20deg); }
        }

        @keyframes cloudy {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(5px); }
        }

        @keyframes rainy {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(3px); }
        }

        @keyframes snowy {
            0%, 100% { transform: rotate(0deg) translateY(0); }
            50% { transform: rotate(10deg) translateY(3px); }
        }

        .weather-sunny { animation: sunny 3s ease-in-out infinite; }
        .weather-cloudy { animation: cloudy 2s ease-in-out infinite; }
        .weather-rainy { animation: rainy 1s ease-in-out infinite; }
        .weather-snowy { animation: snowy 2s ease-in-out infinite; }

        /* Responsive */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .search-container {
                flex-direction: column;
            }

            .search-group {
                width: 100%;
            }

            #map {
                height: 60vh;
                min-height: 400px;
            }

            .map-container {
                padding: 0 15px;
            }

            .header {
                padding: 15px 20px;
            }

            .search-section {
                padding: 20px 20px;
            }
        }

        .stats-bar {
            background: white;
            padding: 15px 30px;
            margin: 20px auto;
            max-width: 1400px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: #667eea;
        }

        .stat-label {
            font-size: 13px;
            color: #718096;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
    </div>

    <header class="header">
        <div class="header-content">
            <div class="header-title">
                <span>ğŸŒ¤ï¸</span>
                <span>Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§ÛŒ Ø§ÛŒØ±Ø§Ù†</span>
            </div>
            <button class="back-button" onclick="window.location.href='index.html'">
                â† Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
            </button>
        </div>
    </header>

    <section class="search-section">
        <div class="search-container">
            <div class="search-group">
                <label class="search-label">Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³ØªØ§Ù†:</label>
                <select id="provinceSelect" class="search-select">
                    <option value="">Ù‡Ù…Ù‡ Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§</option>
                </select>
            </div>
            <div class="search-group">
                <label class="search-label">Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù‡Ø±:</label>
                <select id="citySelect" class="search-select" disabled>
                    <option value="">Ø§Ø¨ØªØ¯Ø§ Ø§Ø³ØªØ§Ù† Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                </select>
            </div>
        </div>
    </section>

    <div class="stats-bar" style="display: none;" id="statsBar">
        <div class="stat-item">
            <div class="stat-value" id="totalCities">Û°</div>
            <div class="stat-label">ØªØ¹Ø¯Ø§Ø¯ Ø´Ù‡Ø±Ù‡Ø§</div>
        </div>
        <div class="stat-item">
            <div class="stat-value" id="loadedCities">Û°</div>
            <div class="stat-label">Ø¯Ø§Ø¯Ù‡ Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯Ù‡</div>
        </div>
        <div class="stat-item">
            <div class="stat-value" id="lastUpdate">--:--</div>
            <div class="stat-label">Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ</div>
        </div>
    </div>

    <div class="map-container">
        <div id="map"></div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
    <script>
        const API_KEY = '0d957a0eb447c26e3a3eb1dfeb219655'; // ğŸ”‘ Ú©Ù„ÛŒØ¯ API Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒØ¯
        
        const iranCities = [
            // ØªÙ‡Ø±Ø§Ù†
            {name: 'ØªÙ‡Ø±Ø§Ù†', province: 'ØªÙ‡Ø±Ø§Ù†', lat: 35.6892, lon: 51.3890},
            {name: 'Ø±ÛŒ', province: 'ØªÙ‡Ø±Ø§Ù†', lat: 35.6061, lon: 51.4304},
            {name: 'Ø´Ù…ÛŒØ±Ø§Ù†Ø§Øª', province: 'ØªÙ‡Ø±Ø§Ù†', lat: 35.8098, lon: 51.5285},
            {name: 'ÙˆØ±Ø§Ù…ÛŒÙ†', province: 'ØªÙ‡Ø±Ø§Ù†', lat: 35.3256, lon: 51.6454},
            {name: 'Ù¾Ø±Ø¯ÛŒØ³', province: 'ØªÙ‡Ø±Ø§Ù†', lat: 35.7449, lon: 51.8019},
            {name: 'Ø§Ø³Ù„Ø§Ù…Ø´Ù‡Ø±', province: 'ØªÙ‡Ø±Ø§Ù†', lat: 35.5537, lon: 51.2411},
            {name: 'Ø±Ø¨Ø§Ø·â€ŒÚ©Ø±ÛŒÙ…', province: 'ØªÙ‡Ø±Ø§Ù†', lat: 35.4848, lon: 51.0829},
            {name: 'Ù¾Ø§Ú©Ø¯Ø´Øª', province: 'ØªÙ‡Ø±Ø§Ù†', lat: 35.4715, lon: 51.6921},
            {name: 'Ø¯Ù…Ø§ÙˆÙ†Ø¯', province: 'ØªÙ‡Ø±Ø§Ù†', lat: 35.7181, lon: 52.0606},
            {name: 'ÙÛŒØ±ÙˆØ²Ú©ÙˆÙ‡', province: 'ØªÙ‡Ø±Ø§Ù†', lat: 35.7545, lon: 52.7706},
            
            // Ú¯ÛŒÙ„Ø§Ù†
            {name: 'Ø±Ø´Øª', province: 'Ú¯ÛŒÙ„Ø§Ù†', lat: 37.2808, lon: 49.5832},
            {name: 'Ø§Ù†Ø²Ù„ÛŒ', province: 'Ú¯ÛŒÙ„Ø§Ù†', lat: 37.4669, lon: 49.4625},
            {name: 'Ù„Ø§Ù‡ÛŒØ¬Ø§Ù†', province: 'Ú¯ÛŒÙ„Ø§Ù†', lat: 37.2028, lon: 50.0028},
            {name: 'Ù„Ù†Ú¯Ø±ÙˆØ¯', province: 'Ú¯ÛŒÙ„Ø§Ù†', lat: 37.1953, lon: 50.1534},
            {name: 'Ø¢Ø³ØªØ§Ø±Ø§', province: 'Ú¯ÛŒÙ„Ø§Ù†', lat: 38.4269, lon: 48.8706},
            {name: 'Ø±ÙˆØ¯Ø³Ø±', province: 'Ú¯ÛŒÙ„Ø§Ù†', lat: 37.1378, lon: 50.2856},
            {name: 'ØªØ§Ù„Ø´', province: 'Ú¯ÛŒÙ„Ø§Ù†', lat: 37.8025, lon: 48.9169},
            {name: 'ØµÙˆÙ…Ø¹Ù‡â€ŒØ³Ø±Ø§', province: 'Ú¯ÛŒÙ„Ø§Ù†', lat: 37.3000, lon: 49.3167},
            {name: 'ÙÙˆÙ…Ù†', province: 'Ú¯ÛŒÙ„Ø§Ù†', lat: 37.2228, lon: 49.3119},
            {name: 'Ø±ÙˆØ¯Ø¨Ø§Ø±', province: 'Ú¯ÛŒÙ„Ø§Ù†', lat: 36.8097, lon: 49.4047},
            
            // Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ
            {name: 'ØªØ¨Ø±ÛŒØ²', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ', lat: 38.0962, lon: 46.2738},
            {name: 'Ù…Ø±Ø§ØºÙ‡', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ', lat: 37.3925, lon: 46.2392},
            {name: 'Ù…Ø±Ù†Ø¯', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ', lat: 38.4331, lon: 45.7753},
            {name: 'Ù…ÛŒØ§Ù†Ù‡', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ', lat: 37.4272, lon: 47.7142},
            {name: 'Ø³Ø±Ø§Ø¨', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ', lat: 37.9403, lon: 47.5372},
            {name: 'Ø´Ø¨Ø³ØªØ±', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ', lat: 38.1831, lon: 45.7083},
            {name: 'Ø¨Ù†Ø§Ø¨', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ', lat: 37.3400, lon: 46.0592},
            {name: 'Ù…Ù„Ú©Ø§Ù†', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ', lat: 38.1986, lon: 46.1108},
            {name: 'Ù‡Ø±ÛŒØ³', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ', lat: 38.2514, lon: 46.9944},
            {name: 'Ø¬Ù„ÙØ§', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† Ø´Ø±Ù‚ÛŒ', lat: 38.9419, lon: 45.6308},
            
            // Ø®ÙˆØ²Ø³ØªØ§Ù†
            {name: 'Ø§Ù‡ÙˆØ§Ø²', province: 'Ø®ÙˆØ²Ø³ØªØ§Ù†', lat: 31.3183, lon: 48.6706},
            {name: 'Ø¢Ø¨Ø§Ø¯Ø§Ù†', province: 'Ø®ÙˆØ²Ø³ØªØ§Ù†', lat: 30.3392, lon: 48.3044},
            {name: 'Ø®Ø±Ù…Ø´Ù‡Ø±', province: 'Ø®ÙˆØ²Ø³ØªØ§Ù†', lat: 30.4394, lon: 48.1831},
            {name: 'Ø¯Ø²ÙÙˆÙ„', province: 'Ø®ÙˆØ²Ø³ØªØ§Ù†', lat: 32.3808, lon: 48.4231},
            {name: 'Ø§Ù†Ø¯ÛŒÙ…Ø´Ú©', province: 'Ø®ÙˆØ²Ø³ØªØ§Ù†', lat: 32.4547, lon: 48.3550},
            {name: 'Ù…Ø³Ø¬Ø¯Ø³Ù„ÛŒÙ…Ø§Ù†', province: 'Ø®ÙˆØ²Ø³ØªØ§Ù†', lat: 32.0011, lon: 49.3039},
            {name: 'Ø¨Ù‡Ø¨Ù‡Ø§Ù†', province: 'Ø®ÙˆØ²Ø³ØªØ§Ù†', lat: 30.5950, lon: 50.2417},
            {name: 'Ø´ÙˆØ´ØªØ±', province: 'Ø®ÙˆØ²Ø³ØªØ§Ù†', lat: 32.0453, lon: 48.8572},
            {name: 'Ø´ÙˆØ´', province: 'Ø®ÙˆØ²Ø³ØªØ§Ù†', lat: 32.1936, lon: 48.2436},
            {name: 'Ø§ÛŒØ°Ù‡', province: 'Ø®ÙˆØ²Ø³ØªØ§Ù†', lat: 31.8392, lon: 49.8706},
            {name: 'Ø±Ø§Ù…Ù‡Ø±Ù…Ø²', province: 'Ø®ÙˆØ²Ø³ØªØ§Ù†', lat: 30.8914, lon: 49.6072},
            {name: 'Ø§Ù…ÛŒØ¯ÛŒÙ‡', province: 'Ø®ÙˆØ²Ø³ØªØ§Ù†', lat: 30.7594, lon: 49.7050},
            
            // ÙØ§Ø±Ø³
            {name: 'Ø´ÛŒØ±Ø§Ø²', province: 'ÙØ§Ø±Ø³', lat: 29.5918, lon: 52.5836},
            {name: 'Ù…Ø±ÙˆØ¯Ø´Øª', province: 'ÙØ§Ø±Ø³', lat: 29.8742, lon: 52.8025},
            {name: 'Ú©Ø§Ø²Ø±ÙˆÙ†', province: 'ÙØ§Ø±Ø³', lat: 29.6194, lon: 51.6558},
            {name: 'Ø¢Ø¨Ø§Ø¯Ù‡', province: 'ÙØ§Ø±Ø³', lat: 31.1595, lon: 52.6508},
            {name: 'ÙØ³Ø§', province: 'ÙØ§Ø±Ø³', lat: 28.9383, lon: 53.6482},
            {name: 'Ø¬Ù‡Ø±Ù…', province: 'ÙØ§Ø±Ø³', lat: 28.5003, lon: 53.5614},
            {name: 'Ø¯Ø§Ø±Ø§Ø¨', province: 'ÙØ§Ø±Ø³', lat: 28.7519, lon: 54.5447},
            {name: 'Ù„Ø§Ø±', province: 'ÙØ§Ø±Ø³', lat: 27.6772, lon: 54.3428},
            {name: 'ÙÛŒØ±ÙˆØ²Ø¢Ø¨Ø§Ø¯', province: 'ÙØ§Ø±Ø³', lat: 28.8439, lon: 52.5706},
            {name: 'Ù†ÛŒâ€ŒØ±ÛŒØ²', province: 'ÙØ§Ø±Ø³', lat: 29.1989, lon: 54.3278},
            {name: 'Ø³Ù¾ÛŒØ¯Ø§Ù†', province: 'ÙØ§Ø±Ø³', lat: 30.2636, lon: 51.9872},
            
            // Ø§ØµÙÙ‡Ø§Ù†
            {name: 'Ø§ØµÙÙ‡Ø§Ù†', province: 'Ø§ØµÙÙ‡Ø§Ù†', lat: 32.6546, lon: 51.6680},
            {name: 'Ú©Ø§Ø´Ø§Ù†', province: 'Ø§ØµÙÙ‡Ø§Ù†', lat: 33.9831, lon: 51.4364},
            {name: 'Ù†Ø¬Ùâ€ŒØ¢Ø¨Ø§Ø¯', province: 'Ø§ØµÙÙ‡Ø§Ù†', lat: 32.6342, lon: 51.3664},
            {name: 'Ø®Ù…ÛŒÙ†ÛŒâ€ŒØ´Ù‡Ø±', province: 'Ø§ØµÙÙ‡Ø§Ù†', lat: 32.6861, lon: 51.5306},
            {name: 'Ø´Ø§Ù‡ÛŒÙ†â€ŒØ´Ù‡Ø±', province: 'Ø§ØµÙÙ‡Ø§Ù†', lat: 32.8581, lon: 51.5506},
            {name: 'Ù†Ø·Ù†Ø²', province: 'Ø§ØµÙÙ‡Ø§Ù†', lat: 33.5150, lon: 51.9194},
            {name: 'Ú¯Ù„Ù¾Ø§ÛŒÚ¯Ø§Ù†', province: 'Ø§ØµÙÙ‡Ø§Ù†', lat: 33.4536, lon: 50.2889},
            {name: 'Ø¢Ø±Ø§Ù† Ùˆ Ø¨ÛŒØ¯Ú¯Ù„', province: 'Ø§ØµÙÙ‡Ø§Ù†', lat: 34.0575, lon: 50.9050},
            {name: 'ÙÙ„Ø§ÙˆØ±Ø¬Ø§Ù†', province: 'Ø§ØµÙÙ‡Ø§Ù†', lat: 32.5489, lon: 51.5142},
            {name: 'Ø¯ÙˆÙ„Øªâ€ŒØ¢Ø¨Ø§Ø¯', province: 'Ø§ØµÙÙ‡Ø§Ù†', lat: 32.8144, lon: 51.5667},
            
            // Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ
            {name: 'Ù…Ø´Ù‡Ø¯', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ', lat: 36.2974, lon: 59.6057},
            {name: 'Ù†ÛŒØ´Ø§Ø¨ÙˆØ±', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ', lat: 36.2139, lon: 58.7958},
            {name: 'Ø³Ø¨Ø²ÙˆØ§Ø±', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ', lat: 36.2126, lon: 57.6819},
            {name: 'ØªØ±Ø¨Øª Ø­ÛŒØ¯Ø±ÛŒÙ‡', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ', lat: 35.2740, lon: 59.2194},
            {name: 'ØªØ±Ø¨Øª Ø¬Ø§Ù…', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ', lat: 35.2440, lon: 60.6225},
            {name: 'Ú©Ø§Ø´Ù…Ø±', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ', lat: 35.2383, lon: 58.4656},
            {name: 'Ú¯Ù†Ø§Ø¨Ø§Ø¯', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ', lat: 34.3528, lon: 58.6831},
            {name: 'Ù‚ÙˆÚ†Ø§Ù†', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ', lat: 37.1061, lon: 58.5103},
            {name: 'Ú†Ù†Ø§Ø±Ø§Ù†', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ', lat: 36.6444, lon: 59.1206},
            {name: 'ÙØ±ÛŒÙ…Ø§Ù†', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø±Ø¶ÙˆÛŒ', lat: 35.7056, lon: 59.8503},
            
            // Ù‚Ø²ÙˆÛŒÙ†
            {name: 'Ù‚Ø²ÙˆÛŒÙ†', province: 'Ù‚Ø²ÙˆÛŒÙ†', lat: 36.2688, lon: 50.0041},
            {name: 'ØªØ§Ú©Ø³ØªØ§Ù†', province: 'Ù‚Ø²ÙˆÛŒÙ†', lat: 36.0708, lon: 49.6956},
            {name: 'Ø¢Ø¨ÛŒÚ©', province: 'Ù‚Ø²ÙˆÛŒÙ†', lat: 36.0394, lon: 50.5333},
            {name: 'Ø¨ÙˆØ¦ÛŒÙ†â€ŒØ²Ù‡Ø±Ø§', province: 'Ù‚Ø²ÙˆÛŒÙ†', lat: 35.7686, lon: 50.0514},
            {name: 'Ø§Ù„ÙˆÙ†Ø¯', province: 'Ù‚Ø²ÙˆÛŒÙ†', lat: 36.1808, lon: 49.7000},
            
            // Ø³Ù…Ù†Ø§Ù†
            {name: 'Ø³Ù…Ù†Ø§Ù†', province: 'Ø³Ù…Ù†Ø§Ù†', lat: 35.5769, lon: 53.3933},
            {name: 'Ø´Ø§Ù‡Ø±ÙˆØ¯', province: 'Ø³Ù…Ù†Ø§Ù†', lat: 36.4183, lon: 55.0178},
            {name: 'Ø¯Ø§Ù…ØºØ§Ù†', province: 'Ø³Ù…Ù†Ø§Ù†', lat: 36.1678, lon: 54.3436},
            {name: 'Ú¯Ø±Ù…Ø³Ø§Ø±', province: 'Ø³Ù…Ù†Ø§Ù†', lat: 35.2183, lon: 52.3403},
            {name: 'Ù…Ù‡Ø¯ÛŒâ€ŒØ´Ù‡Ø±', province: 'Ø³Ù…Ù†Ø§Ù†', lat: 35.7044, lon: 53.3542},
            
            // Ù‚Ù…
            {name: 'Ù‚Ù…', province: 'Ù‚Ù…', lat: 34.6416, lon: 50.8764},
            
            // Ù…Ø±Ú©Ø²ÛŒ
            {name: 'Ø§Ø±Ø§Ú©', province: 'Ù…Ø±Ú©Ø²ÛŒ', lat: 34.0917, lon: 49.6892},
            {name: 'Ø³Ø§ÙˆÙ‡', province: 'Ù…Ø±Ú©Ø²ÛŒ', lat: 35.0213, lon: 50.3566},
            {name: 'Ø®Ù…ÛŒÙ†', province: 'Ù…Ø±Ú©Ø²ÛŒ', lat: 33.6392, lon: 50.0806},
            {name: 'Ù…Ø­Ù„Ø§Øª', province: 'Ù…Ø±Ú©Ø²ÛŒ', lat: 33.9094, lon: 50.4575},
            {name: 'Ø¯Ù„ÛŒØ¬Ø§Ù†', province: 'Ù…Ø±Ú©Ø²ÛŒ', lat: 33.9906, lon: 50.6836},
            {name: 'ØªÙØ±Ø´', province: 'Ù…Ø±Ú©Ø²ÛŒ', lat: 34.6903, lon: 50.0131},
            
            // Ø²Ù†Ø¬Ø§Ù†
            {name: 'Ø²Ù†Ø¬Ø§Ù†', province: 'Ø²Ù†Ø¬Ø§Ù†', lat: 36.6736, lon: 48.4787},
            {name: 'Ø§Ø¨Ù‡Ø±', province: 'Ø²Ù†Ø¬Ø§Ù†', lat: 36.1467, lon: 49.2181},
            {name: 'Ø®Ø¯Ø§Ø¨Ù†Ø¯Ù‡', province: 'Ø²Ù†Ø¬Ø§Ù†', lat: 36.1333, lon: 48.5667},
            {name: 'Ø®Ø±Ù…Ø¯Ø±Ù‡', province: 'Ø²Ù†Ø¬Ø§Ù†', lat: 36.2069, lon: 49.1897},
            
            // Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†
            {name: 'Ø³Ø§Ø±ÛŒ', province: 'Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†', lat: 36.5633, lon: 53.0601},
            {name: 'Ø¨Ø§Ø¨Ù„', province: 'Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†', lat: 36.5510, lon: 52.6789},
            {name: 'Ø¢Ù…Ù„', province: 'Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†', lat: 36.4697, lon: 52.3503},
            {name: 'Ù‚Ø§Ø¦Ù…â€ŒØ´Ù‡Ø±', province: 'Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†', lat: 36.4631, lon: 52.8461},
            {name: 'Ø¨Ø§Ø¨Ù„Ø³Ø±', province: 'Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†', lat: 36.7064, lon: 52.6511},
            {name: 'Ø¨Ù‡Ø´Ù‡Ø±', province: 'Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†', lat: 36.6933, lon: 53.5528},
            {name: 'ØªÙ†Ú©Ø§Ø¨Ù†', province: 'Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†', lat: 36.8164, lon: 50.8739},
            {name: 'Ú†Ø§Ù„ÙˆØ³', province: 'Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†', lat: 36.6550, lon: 51.4206},
            {name: 'Ù†ÙˆØ´Ù‡Ø±', province: 'Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†', lat: 36.6478, lon: 51.4981},
            {name: 'Ù†ÙˆØ±', province: 'Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†', lat: 36.5706, lon: 52.0089},
            {name: 'Ù†Ú©Ø§', province: 'Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†', lat: 36.6428, lon: 53.2989},
            {name: 'Ø±Ø§Ù…Ø³Ø±', province: 'Ù…Ø§Ø²Ù†Ø¯Ø±Ø§Ù†', lat: 36.9069, lon: 50.6558},
            
            // Ú¯Ù„Ø³ØªØ§Ù†
            {name: 'Ú¯Ø±Ú¯Ø§Ù†', province: 'Ú¯Ù„Ø³ØªØ§Ù†', lat: 36.8433, lon: 54.4439},
            {name: 'Ú¯Ù†Ø¨Ø¯ Ú©Ø§ÙˆÙˆØ³', province: 'Ú¯Ù„Ø³ØªØ§Ù†', lat: 37.2500, lon: 55.1672},
            {name: 'Ø¹Ù„ÛŒâ€ŒØ¢Ø¨Ø§Ø¯ Ú©ØªÙˆÙ„', province: 'Ú¯Ù„Ø³ØªØ§Ù†', lat: 36.9000, lon: 54.8667},
            {name: 'Ø¢Ù‚â€ŒÙ‚Ù„Ø§', province: 'Ú¯Ù„Ø³ØªØ§Ù†', lat: 37.0117, lon: 54.4603},
            {name: 'Ø¨Ù†Ø¯Ø± Ú¯Ø²', province: 'Ú¯Ù„Ø³ØªØ§Ù†', lat: 36.7672, lon: 53.9519},
            {name: 'Ú©Ø±Ø¯Ú©ÙˆÛŒ', province: 'Ú¯Ù„Ø³ØªØ§Ù†', lat: 36.7892, lon: 54.1064},
            {name: 'Ù…ÛŒÙ†ÙˆØ¯Ø´Øª', province: 'Ú¯Ù„Ø³ØªØ§Ù†', lat: 37.2306, lon: 55.3619},
            
            // Ø§Ø±Ø¯Ø¨ÛŒÙ„
            {name: 'Ø§Ø±Ø¯Ø¨ÛŒÙ„', province: 'Ø§Ø±Ø¯Ø¨ÛŒÙ„', lat: 38.2498, lon: 48.2933},
            {name: 'Ù¾Ø§Ø±Ø³â€ŒØ¢Ø¨Ø§Ø¯', province: 'Ø§Ø±Ø¯Ø¨ÛŒÙ„', lat: 39.6519, lon: 47.9169},
            {name: 'Ø®Ù„Ø®Ø§Ù„', province: 'Ø§Ø±Ø¯Ø¨ÛŒÙ„', lat: 37.6200, lon: 48.5272},
            {name: 'Ù…Ø´Ú¯ÛŒÙ†â€ŒØ´Ù‡Ø±', province: 'Ø§Ø±Ø¯Ø¨ÛŒÙ„', lat: 38.3978, lon: 47.6653},
            {name: 'Ù†Ù…ÛŒÙ†', province: 'Ø§Ø±Ø¯Ø¨ÛŒÙ„', lat: 38.4306, lon: 48.4783},
            {name: 'Ù†ÛŒØ±', province: 'Ø§Ø±Ø¯Ø¨ÛŒÙ„', lat: 38.0333, lon: 47.9833},
            
            // Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ
            {name: 'Ø§Ø±ÙˆÙ…ÛŒÙ‡', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ', lat: 37.5527, lon: 45.0761},
            {name: 'Ø®ÙˆÛŒ', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ', lat: 38.5503, lon: 44.9522},
            {name: 'Ù…Ù‡Ø§Ø¨Ø§Ø¯', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ', lat: 36.7631, lon: 45.7222},
            {name: 'Ø¨ÙˆÚ©Ø§Ù†', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ', lat: 36.5210, lon: 46.2089},
            {name: 'Ù…ÛŒØ§Ù†Ø¯ÙˆØ¢Ø¨', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ', lat: 36.9697, lon: 46.1064},
            {name: 'Ø³Ù„Ù…Ø§Ø³', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ', lat: 38.1972, lon: 44.7653},
            {name: 'Ù†Ù‚Ø¯Ù‡', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ', lat: 36.9556, lon: 45.3886},
            {name: 'Ù¾ÛŒØ±Ø§Ù†Ø´Ù‡Ø±', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ', lat: 36.6944, lon: 45.1408},
            {name: 'Ø³Ø±Ø¯Ø´Øª', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ', lat: 36.1544, lon: 45.4789},
            {name: 'Ù…Ø§Ú©Ùˆ', province: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù† ØºØ±Ø¨ÛŒ', lat: 39.2933, lon: 44.5161},
            
            // Ù‡Ù…Ø¯Ø§Ù†
            {name: 'Ù‡Ù…Ø¯Ø§Ù†', province: 'Ù‡Ù…Ø¯Ø§Ù†', lat: 34.7992, lon: 48.5146},
            {name: 'Ù…Ù„Ø§ÛŒØ±', province: 'Ù‡Ù…Ø¯Ø§Ù†', lat: 34.2972, lon: 48.8236},
            {name: 'Ù†Ù‡Ø§ÙˆÙ†Ø¯', province: 'Ù‡Ù…Ø¯Ø§Ù†', lat: 34.1889, lon: 48.3778},
            {name: 'ØªÙˆÛŒØ³Ø±Ú©Ø§Ù†', province: 'Ù‡Ù…Ø¯Ø§Ù†', lat: 34.5456, lon: 48.4472},
            {name: 'Ø§Ø³Ø¯Ø¢Ø¨Ø§Ø¯', province: 'Ù‡Ù…Ø¯Ø§Ù†', lat: 34.7828, lon: 48.1194},
            {name: 'Ú©Ø¨ÙˆØ¯Ø±Ø¢Ù‡Ù†Ú¯', province: 'Ù‡Ù…Ø¯Ø§Ù†', lat: 35.2042, lon: 48.7178},
            
            // Ú©Ø±Ø¯Ø³ØªØ§Ù†
            {name: 'Ø³Ù†Ù†Ø¯Ø¬', province: 'Ú©Ø±Ø¯Ø³ØªØ§Ù†', lat: 35.3150, lon: 47.0100},
            {name: 'Ù…Ø±ÛŒÙˆØ§Ù†', province: 'Ú©Ø±Ø¯Ø³ØªØ§Ù†', lat: 35.5214, lon: 46.1747},
            {name: 'Ø¨Ø§Ù†Ù‡', province: 'Ú©Ø±Ø¯Ø³ØªØ§Ù†', lat: 35.9975, lon: 45.8853},
            {name: 'Ø³Ù‚Ø²', province: 'Ú©Ø±Ø¯Ø³ØªØ§Ù†', lat: 36.2497, lon: 46.2636},
            {name: 'Ù‚Ø±ÙˆÙ‡', province: 'Ú©Ø±Ø¯Ø³ØªØ§Ù†', lat: 35.1714, lon: 47.8053},
            {name: 'Ø¨ÛŒØ¬Ø§Ø±', province: 'Ú©Ø±Ø¯Ø³ØªØ§Ù†', lat: 35.8697, lon: 47.6053},
            {name: 'Ú©Ø§Ù…ÛŒØ§Ø±Ø§Ù†', province: 'Ú©Ø±Ø¯Ø³ØªØ§Ù†', lat: 34.7989, lon: 46.9358},
            
            // Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡
            {name: 'Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡', province: 'Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡', lat: 34.3142, lon: 47.0650},
            {name: 'Ø§Ø³Ù„Ø§Ù…â€ŒØ¢Ø¨Ø§Ø¯ ØºØ±Ø¨', province: 'Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡', lat: 34.1058, lon: 46.5239},
            {name: 'Ú©Ù†Ú¯Ø§ÙˆØ±', province: 'Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡', lat: 34.5042, lon: 47.9653},
            {name: 'Ø³Ù†Ù‚Ø±', province: 'Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡', lat: 34.7833, lon: 47.6000},
            {name: 'Ù‡Ø±Ø³ÛŒÙ†', province: 'Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡', lat: 34.2719, lon: 47.5886},
            {name: 'ØµØ­Ù†Ù‡', province: 'Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡', lat: 34.4769, lon: 47.6883},
            {name: 'Ù¾Ø§ÙˆÙ‡', province: 'Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡', lat: 35.0436, lon: 46.3569},
            {name: 'Ø¬ÙˆØ§Ù†Ø±ÙˆØ¯', province: 'Ú©Ø±Ù…Ø§Ù†Ø´Ø§Ù‡', lat: 34.8058, lon: 46.4997},
            
            // Ù„Ø±Ø³ØªØ§Ù†
            {name: 'Ø®Ø±Ù…â€ŒØ¢Ø¨Ø§Ø¯', province: 'Ù„Ø±Ø³ØªØ§Ù†', lat: 33.4878, lon: 48.3558},
            {name: 'Ø¨Ø±ÙˆØ¬Ø±Ø¯', province: 'Ù„Ø±Ø³ØªØ§Ù†', lat: 33.8958, lon: 48.7517},
            {name: 'Ø¯ÙˆØ±ÙˆØ¯', province: 'Ù„Ø±Ø³ØªØ§Ù†', lat: 33.4897, lon: 49.0606},
            {name: 'Ú©ÙˆÙ‡Ø¯Ø´Øª', province: 'Ù„Ø±Ø³ØªØ§Ù†', lat: 33.5353, lon: 47.6061},
            {name: 'Ø§Ù„ÛŒÚ¯ÙˆØ¯Ø±Ø²', province: 'Ù„Ø±Ø³ØªØ§Ù†', lat: 33.3989, lon: 49.6947},
            {name: 'Ø§Ø²Ù†Ø§', province: 'Ù„Ø±Ø³ØªØ§Ù†', lat: 33.4553, lon: 49.4572},
            {name: 'Ù†ÙˆØ±Ø¢Ø¨Ø§Ø¯', province: 'Ù„Ø±Ø³ØªØ§Ù†', lat: 34.0694, lon: 47.9761},
            
            // Ø¨ÙˆØ´Ù‡Ø±
            {name: 'Ø¨ÙˆØ´Ù‡Ø±', province: 'Ø¨ÙˆØ´Ù‡Ø±', lat: 28.9684, lon: 50.8385},
            {name: 'Ø¨Ø±Ø§Ø²Ø¬Ø§Ù†', province: 'Ø¨ÙˆØ´Ù‡Ø±', lat: 29.2669, lon: 51.2181},
            {name: 'Ø¨Ù†Ø¯Ø± Ú¯Ù†Ø§ÙˆÙ‡', province: 'Ø¨ÙˆØ´Ù‡Ø±', lat: 29.5792, lon: 50.5172},
            {name: 'Ø¯ÛŒØ±', province: 'Ø¨ÙˆØ´Ù‡Ø±', lat: 27.8431, lon: 51.9669},
            {name: 'Ú©Ù†Ú¯Ø§Ù†', province: 'Ø¨ÙˆØ´Ù‡Ø±', lat: 27.8289, lon: 52.0600},
            {name: 'Ø¯ÛŒÙ„Ù…', province: 'Ø¨ÙˆØ´Ù‡Ø±', lat: 30.0508, lon: 50.1533},
            {name: 'Ø¬Ù…', province: 'Ø¨ÙˆØ´Ù‡Ø±', lat: 27.8222, lon: 52.3556},
            
            // Ú©Ø±Ù…Ø§Ù†
            {name: 'Ú©Ø±Ù…Ø§Ù†', province: 'Ú©Ø±Ù…Ø§Ù†', lat: 30.2839, lon: 57.0834},
            {name: 'Ø±ÙØ³Ù†Ø¬Ø§Ù†', province: 'Ú©Ø±Ù…Ø§Ù†', lat: 30.4067, lon: 55.9939},
            {name: 'Ø³ÛŒØ±Ø¬Ø§Ù†', province: 'Ú©Ø±Ù…Ø§Ù†', lat: 29.4519, lon: 55.6814},
            {name: 'Ø¨Ù…', province: 'Ú©Ø±Ù…Ø§Ù†', lat: 29.1061, lon: 58.3544},
            {name: 'Ø¬ÛŒØ±ÙØª', province: 'Ú©Ø±Ù…Ø§Ù†', lat: 28.6786, lon: 57.7358},
            {name: 'Ø²Ø±Ù†Ø¯', province: 'Ú©Ø±Ù…Ø§Ù†', lat: 30.8128, lon: 56.5639},
            {name: 'Ø¨Ø§ÙØª', province: 'Ú©Ø±Ù…Ø§Ù†', lat: 29.2333, lon: 56.6000},
            {name: 'Ø´Ù‡Ø±Ø¨Ø§Ø¨Ú©', province: 'Ú©Ø±Ù…Ø§Ù†', lat: 30.1164, lon: 55.1186},
            {name: 'Ú©Ù‡Ù†ÙˆØ¬', province: 'Ú©Ø±Ù…Ø§Ù†', lat: 27.9569, lon: 57.7039},
            {name: 'Ø¨Ø±Ø¯Ø³ÛŒØ±', province: 'Ú©Ø±Ù…Ø§Ù†', lat: 29.9236, lon: 56.5744},
            
            // Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†
            {name: 'Ø¨Ù†Ø¯Ø±Ø¹Ø¨Ø§Ø³', province: 'Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†', lat: 27.1865, lon: 56.2808},
            {name: 'Ù…ÛŒÙ†Ø§Ø¨', province: 'Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†', lat: 27.1469, lon: 57.0803},
            {name: 'Ù‚Ø´Ù…', province: 'Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†', lat: 26.9581, lon: 56.2719},
            {name: 'Ø¨Ù†Ø¯Ø± Ù„Ù†Ú¯Ù‡', province: 'Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†', lat: 26.5586, lon: 54.8806},
            {name: 'Ø¬Ø§Ø³Ú©', province: 'Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†', lat: 25.6394, lon: 57.7772},
            {name: 'Ú©ÛŒØ´', province: 'Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†', lat: 26.5578, lon: 53.9803},
            {name: 'Ø¨Ø³ØªÚ©', province: 'Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†', lat: 27.2083, lon: 54.3686},
            {name: 'Ø­Ø§Ø¬ÛŒâ€ŒØ¢Ø¨Ø§Ø¯', province: 'Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†', lat: 28.3086, lon: 55.9025},
            {name: 'Ø±ÙˆØ¯Ø§Ù†', province: 'Ù‡Ø±Ù…Ø²Ú¯Ø§Ù†', lat: 27.1503, lon: 57.2639},
            
            // Ú†Ù‡Ø§Ø±Ù…Ø­Ø§Ù„ Ùˆ Ø¨Ø®ØªÛŒØ§Ø±ÛŒ
            {name: 'Ø´Ù‡Ø±Ú©Ø±Ø¯', province: 'Ú†Ù‡Ø§Ø±Ù…Ø­Ø§Ù„ Ùˆ Ø¨Ø®ØªÛŒØ§Ø±ÛŒ', lat: 32.3256, lon: 50.8644},
            {name: 'Ø¨Ø±ÙˆØ¬Ù†', province: 'Ú†Ù‡Ø§Ø±Ù…Ø­Ø§Ù„ Ùˆ Ø¨Ø®ØªÛŒØ§Ø±ÛŒ', lat: 31.9639, lon: 51.2861},
            {name: 'ÙØ§Ø±Ø³Ø§Ù†', province: 'Ú†Ù‡Ø§Ø±Ù…Ø­Ø§Ù„ Ùˆ Ø¨Ø®ØªÛŒØ§Ø±ÛŒ', lat: 32.2567, lon: 50.5619},
            {name: 'Ù„Ø±Ø¯Ú¯Ø§Ù†', province: 'Ú†Ù‡Ø§Ø±Ù…Ø­Ø§Ù„ Ùˆ Ø¨Ø®ØªÛŒØ§Ø±ÛŒ', lat: 31.5119, lon: 50.8264},
            {name: 'Ø§Ø±Ø¯Ù„', province: 'Ú†Ù‡Ø§Ø±Ù…Ø­Ø§Ù„ Ùˆ Ø¨Ø®ØªÛŒØ§Ø±ÛŒ', lat: 31.9903, lon: 50.6561},
            
            // ÛŒØ²Ø¯
            {name: 'ÛŒØ²Ø¯', province: 'ÛŒØ²Ø¯', lat: 31.8974, lon: 54.3569},
            {name: 'Ù…ÛŒØ¨Ø¯', province: 'ÛŒØ²Ø¯', lat: 32.2383, lon: 54.0164},
            {name: 'Ø§Ø±Ø¯Ú©Ø§Ù†', province: 'ÛŒØ²Ø¯', lat: 32.3100, lon: 54.0178},
            {name: 'ØªÙØª', province: 'ÛŒØ²Ø¯', lat: 31.7442, lon: 54.2028},
            {name: 'Ù…Ù‡Ø±ÛŒØ²', province: 'ÛŒØ²Ø¯', lat: 31.5844, lon: 54.4378},
            {name: 'Ø§Ø¨Ø±Ú©ÙˆÙ‡', province: 'ÛŒØ²Ø¯', lat: 31.1194, lon: 53.2753},
            {name: 'Ø¨Ø§ÙÙ‚', province: 'ÛŒØ²Ø¯', lat: 31.6036, lon: 55.4006},
            
            // Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†
            {name: 'Ø²Ø§Ù‡Ø¯Ø§Ù†', province: 'Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†', lat: 29.4963, lon: 60.8629},
            {name: 'Ø²Ø§Ø¨Ù„', province: 'Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†', lat: 31.0294, lon: 61.5011},
            {name: 'Ú†Ø§Ø¨Ù‡Ø§Ø±', province: 'Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†', lat: 25.2919, lon: 60.6430},
            {name: 'Ø§ÛŒØ±Ø§Ù†Ø´Ù‡Ø±', province: 'Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†', lat: 27.2025, lon: 60.6847},
            {name: 'Ø®Ø§Ø´', province: 'Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†', lat: 28.2167, lon: 61.2167},
            {name: 'Ø³Ø±Ø§ÙˆØ§Ù†', province: 'Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†', lat: 27.3669, lon: 62.3358},
            {name: 'Ù†ÛŒÚ©Ø´Ù‡Ø±', province: 'Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†', lat: 26.2247, lon: 60.2150},
            {name: 'Ú©Ù†Ø§Ø±Ú©', province: 'Ø³ÛŒØ³ØªØ§Ù† Ùˆ Ø¨Ù„ÙˆÚ†Ø³ØªØ§Ù†', lat: 25.3683, lon: 60.3747},
            
            // Ø§ÛŒÙ„Ø§Ù…
            {name: 'Ø§ÛŒÙ„Ø§Ù…', province: 'Ø§ÛŒÙ„Ø§Ù…', lat: 33.6374, lon: 46.4227},
            {name: 'Ø¯Ù‡Ù„Ø±Ø§Ù†', province: 'Ø§ÛŒÙ„Ø§Ù…', lat: 32.6939, lon: 47.2681},
            {name: 'Ø§ÛŒÙˆØ§Ù†', province: 'Ø§ÛŒÙ„Ø§Ù…', lat: 33.8028, lon: 46.3014},
            {name: 'Ø¢Ø¨Ø¯Ø§Ù†Ø§Ù†', province: 'Ø§ÛŒÙ„Ø§Ù…', lat: 33.5300, lon: 47.4142},
            {name: 'Ù…Ù‡Ø±Ø§Ù†', province: 'Ø§ÛŒÙ„Ø§Ù…', lat: 33.1222, lon: 46.1642},
            {name: 'Ø¯Ø±Ù‡â€ŒØ´Ù‡Ø±', province: 'Ø§ÛŒÙ„Ø§Ù…', lat: 33.1453, lon: 47.3808},
            
            // Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡ Ùˆ Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯
            {name: 'ÛŒØ§Ø³ÙˆØ¬', province: 'Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡ Ùˆ Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯', lat: 30.6682, lon: 51.5881},
            {name: 'Ø¯ÙˆÚ¯Ù†Ø¨Ø¯Ø§Ù†', province: 'Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡ Ùˆ Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯', lat: 30.3597, lon: 50.7972},
            {name: 'Ø¯Ù‡Ø¯Ø´Øª', province: 'Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡ Ùˆ Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯', lat: 30.7953, lon: 50.5614},
            {name: 'Ú¯Ú†Ø³Ø§Ø±Ø§Ù†', province: 'Ú©Ù‡Ú¯ÛŒÙ„ÙˆÛŒÙ‡ Ùˆ Ø¨ÙˆÛŒØ±Ø§Ø­Ù…Ø¯', lat: 30.3558, lon: 50.7997},
            
            // Ø®Ø±Ø§Ø³Ø§Ù† Ø´Ù…Ø§Ù„ÛŒ
            {name: 'Ø¨Ø¬Ù†ÙˆØ±Ø¯', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø´Ù…Ø§Ù„ÛŒ', lat: 37.4747, lon: 57.3283},
            {name: 'Ø´ÛŒØ±ÙˆØ§Ù†', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø´Ù…Ø§Ù„ÛŒ', lat: 37.3967, lon: 57.9294},
            {name: 'Ø§Ø³ÙØ±Ø§ÛŒÙ†', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø´Ù…Ø§Ù„ÛŒ', lat: 37.0764, lon: 57.5097},
            {name: 'Ø¢Ø´Ø®Ø§Ù†Ù‡', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø´Ù…Ø§Ù„ÛŒ', lat: 37.5000, lon: 57.1333},
            
            // Ø®Ø±Ø§Ø³Ø§Ù† Ø¬Ù†ÙˆØ¨ÛŒ
            {name: 'Ø¨ÛŒØ±Ø¬Ù†Ø¯', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø¬Ù†ÙˆØ¨ÛŒ', lat: 32.8663, lon: 59.2211},
            {name: 'Ù‚Ø§ÛŒÙ†', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø¬Ù†ÙˆØ¨ÛŒ', lat: 33.7272, lon: 59.1847},
            {name: 'ÙØ±Ø¯ÙˆØ³', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø¬Ù†ÙˆØ¨ÛŒ', lat: 34.0181, lon: 58.1706},
            {name: 'Ù†Ù‡Ø¨Ù†Ø¯Ø§Ù†', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø¬Ù†ÙˆØ¨ÛŒ', lat: 31.5333, lon: 60.0333},
            {name: 'Ø·Ø¨Ø³', province: 'Ø®Ø±Ø§Ø³Ø§Ù† Ø¬Ù†ÙˆØ¨ÛŒ', lat: 33.5959, lon: 56.9244},
            
            // Ø§Ù„Ø¨Ø±Ø²
            {name: 'Ú©Ø±Ø¬', province: 'Ø§Ù„Ø¨Ø±Ø²', lat: 35.8327, lon: 50.9916},
            {name: 'Ù†Ø¸Ø±Ø¢Ø¨Ø§Ø¯', province: 'Ø§Ù„Ø¨Ø±Ø²', lat: 35.9519, lon: 50.6078},
            {name: 'Ø·Ø§Ù„Ù‚Ø§Ù†', province: 'Ø§Ù„Ø¨Ø±Ø²', lat: 36.1747, lon: 50.7697},
            {name: 'Ø³Ø§ÙˆØ¬Ø¨Ù„Ø§Øº', province: 'Ø§Ù„Ø¨Ø±Ø²', lat: 35.8900, lon: 50.8953},
            {name: 'Ø§Ø´ØªÙ‡Ø§Ø±Ø¯', province: 'Ø§Ù„Ø¨Ø±Ø²', lat: 35.7244, lon: 50.3708},
            {name: 'ÙØ±Ø¯ÛŒØ³', province: 'Ø§Ù„Ø¨Ø±Ø²', lat: 35.7231, lon: 50.9800},
            {name: 'Ù…Ø­Ù…Ø¯Ø´Ù‡Ø±', province: 'Ø§Ù„Ø¨Ø±Ø²', lat: 35.7481, lon: 50.9022}
        ];

        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø³Ø±Ø§Ø³Ø±ÛŒ
        let map;
        let markers = L.markerClusterGroup();
        let weatherData = {};
        let loadedCount = 0;

        // ØªØ§Ø¨Ø¹ ØªØ¨Ø¯ÛŒÙ„ Ø§Ø¹Ø¯Ø§Ø¯ ÙØ§Ø±Ø³ÛŒ
        function toPersianNumber(num) {
            const persianDigits = ['Û°', 'Û±', 'Û²', 'Û³', 'Û´', 'Ûµ', 'Û¶', 'Û·', 'Û¸', 'Û¹'];
            return num.toString().replace(/\d/g, (d) => persianDigits[d]);
        }

        // ØªØ§Ø¨Ø¹ Ø¯Ø±ÛŒØ§ÙØª Ø¢ÛŒÚ©ÙˆÙ† Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§
        function getWeatherIcon(condition) {
            const icons = {
                'Clear': 'â˜€ï¸',
                'Clouds': 'â˜ï¸',
                'Rain': 'ğŸŒ§ï¸',
                'Drizzle': 'ğŸŒ¦ï¸',
                'Thunderstorm': 'â›ˆï¸',
                'Snow': 'ğŸŒ¨ï¸',
                'Mist': 'ğŸŒ«ï¸',
                'Smoke': 'ğŸŒ«ï¸',
                'Haze': 'ğŸŒ«ï¸',
                'Dust': 'ğŸŒ«ï¸',
                'Fog': 'ğŸŒ«ï¸',
                'Sand': 'ğŸŒ«ï¸',
                'Ash': 'ğŸŒ«ï¸',
                'Squall': 'ğŸ’¨',
                'Tornado': 'ğŸŒªï¸'
            };
            return icons[condition] || 'ğŸŒ¤ï¸';
        }

        // ØªØ§Ø¨Ø¹ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù„Ø§Ø³ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
        function getWeatherAnimation(condition) {
            if (condition === 'Clear') return 'weather-sunny';
            if (condition === 'Clouds') return 'weather-cloudy';
            if (condition.includes('Rain') || condition === 'Drizzle') return 'weather-rainy';
            if (condition === 'Snow') return 'weather-snowy';
            return '';
        }

        // ØªØ§Ø¨Ø¹ ØªØ±Ø¬Ù…Ù‡ ÙˆØ¶Ø¹ÛŒØª Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§
        function translateWeather(condition) {
            const translations = {
                'Clear': 'Ø¢ÙØªØ§Ø¨ÛŒ',
                'Clouds': 'Ø§Ø¨Ø±ÛŒ',
                'Rain': 'Ø¨Ø§Ø±Ø§Ù†ÛŒ',
                'Drizzle': 'Ù†Ù…â€ŒÙ†Ù… Ø¨Ø§Ø±Ø§Ù†',
                'Thunderstorm': 'Ø±Ø¹Ø¯ Ùˆ Ø¨Ø±Ù‚',
                'Snow': 'Ø¨Ø±ÙÛŒ',
                'Mist': 'Ù…Ù‡',
                'Smoke': 'Ø¯ÙˆØ¯',
                'Haze': 'Ù…Ù‡',
                'Dust': 'Ú¯Ø±Ø¯ Ùˆ Ø®Ø§Ú©',
                'Fog': 'Ù…Ù‡ ØºÙ„ÛŒØ¸',
                'Sand': 'Ù…Ø§Ø³Ù‡',
                'Ash': 'Ø®Ø§Ú©Ø³ØªØ±',
                'Squall': 'Ø·ÙˆÙØ§Ù†',
                'Tornado': 'Ú¯Ø±Ø¯Ø¨Ø§Ø¯'
            };
            return translations[condition] || condition;
        }

        // ØªØ§Ø¨Ø¹ Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¢Ø¨ Ùˆ Ù‡ÙˆØ§
        async function fetchWeather(city) {
            try {
                const response = await fetch(
                    `https://api.openweathermap.org/data/2.5/weather?lat=${city.lat}&lon=${city.lon}&appid=${API_KEY}&units=metric&lang=fa`
                );
                const data = await response.json();
                
                if (data.cod === 200) {
                    weatherData[city.name] = data;
                    loadedCount++;
                    updateStats();
                    return data;
                }
            } catch (error) {
                console.error(`Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡ ${city.name}:`, error);
            }
            return null;
        }

        // ØªØ§Ø¨Ø¹ Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø­ØªÙˆØ§ÛŒ Ù¾Ø§Ù¾â€ŒØ¢Ù¾
        function createPopupContent(city, weather) {
            if (!weather) {
                return `<div class="weather-popup">
                    <div class="popup-header">
                        <span class="popup-city">${city.name}</span>
                    </div>
                    <p>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</p>
                </div>`;
            }

            const temp = Math.round(weather.main.temp);
            const tempMin = Math.round(weather.main.temp_min);
            const tempMax = Math.round(weather.main.temp_max);
            const humidity = weather.main.humidity;
            const windSpeed = Math.round(weather.wind.speed * 3.6); // ØªØ¨Ø¯ÛŒÙ„ Ø¨Ù‡ km/h
            const condition = weather.weather[0].main;
            const icon = getWeatherIcon(condition);
            const animation = getWeatherAnimation(condition);
            const weatherDesc = translateWeather(condition);

            return `
                <div class="weather-popup">
                    <div class="popup-header">
                        <span class="popup-city">${city.name}</span>
                        <span class="popup-icon ${animation}">${icon}</span>
                    </div>
                    <div class="weather-info">
                        <div class="info-row">
                            <span class="info-label">Ø¯Ù…Ø§:</span>
                            <span class="info-value temp-main">${toPersianNumber(temp)}Â°C</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Ø­Ø¯Ø§Ù‚Ù„:</span>
                            <span class="info-value">${toPersianNumber(tempMin)}Â°C</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Ø­Ø¯Ø§Ú©Ø«Ø±:</span>
                            <span class="info-value">${toPersianNumber(tempMax)}Â°C</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Ø±Ø·ÙˆØ¨Øª:</span>
                            <span class="info-value">${toPersianNumber(humidity)}%</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Ø¨Ø§Ø¯:</span>
                            <span class="info-value">${toPersianNumber(windSpeed)} km/h</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ÙˆØ¶Ø¹ÛŒØª:</span>
                            <span class="info-value">${weatherDesc}</span>
                        </div>
                    </div>
                </div>
            `;
        }

        // ØªØ§Ø¨Ø¹ Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø§Ø±Ú©Ø±
        async function addMarker(city) {
            const marker = L.marker([city.lat, city.lon]);
            
            marker.on('click', async function() {
                if (!weatherData[city.name]) {
                    marker.bindPopup(createPopupContent(city, null)).openPopup();
                    const weather = await fetchWeather(city);
                    if (weather) {
                        marker.bindPopup(createPopupContent(city, weather)).openPopup();
                    }
                } else {
                    marker.bindPopup(createPopupContent(city, weatherData[city.name])).openPopup();
                }
            });

            markers.addLayer(marker);
        }

        // ØªØ§Ø¨Ø¹ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø±
        function updateStats() {
            document.getElementById('totalCities').textContent = toPersianNumber(iranCities.length);
            document.getElementById('loadedCities').textContent = toPersianNumber(loadedCount);
            const now = new Date();
            const timeStr = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
            document.getElementById('lastUpdate').textContent = toPersianNumber(timeStr);
            document.getElementById('statsBar').style.display = 'flex';
        }

        // ØªØ§Ø¨Ø¹ Ù¾Ø± Ú©Ø±Ø¯Ù† Ù…Ù†ÙˆÛŒ Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§
        function populateProvinces() {
            const provinces = [...new Set(iranCities.map(city => city.province))].sort();
            const select = document.getElementById('provinceSelect');
            
            provinces.forEach(province => {
                const option = document.createElement('option');
                option.value = province;
                option.textContent = province;
                select.appendChild(option);
            });
        }

        // ØªØ§Ø¨Ø¹ ÙÛŒÙ„ØªØ± Ø´Ù‡Ø±Ù‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ø³ØªØ§Ù†
        function filterCitiesByProvince(province) {
            const citySelect = document.getElementById('citySelect');
            citySelect.innerHTML = '<option value="">Ù‡Ù…Ù‡ Ø´Ù‡Ø±Ù‡Ø§</option>';
            citySelect.disabled = false;

            const cities = iranCities
                .filter(city => !province || city.province === province)
                .sort((a, b) => a.name.localeCompare(b.name, 'fa'));

            cities.forEach(city => {
                const option = document.createElement('option');
                option.value = city.name;
                option.textContent = city.name;
                citySelect.appendChild(option);
            });
        }

        // ØªØ§Ø¨Ø¹ Ø¬Ø³ØªØ¬ÙˆÛŒ Ø´Ù‡Ø± Ø±ÙˆÛŒ Ù†Ù‚Ø´Ù‡
        function zoomToCity(cityName) {
            const city = iranCities.find(c => c.name === cityName);
            if (city) {
                map.setView([city.lat, city.lon], 10);
                
                // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù…Ø§Ø±Ú©Ø± Ùˆ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù¾Ø§Ù¾â€ŒØ¢Ù¾
                markers.eachLayer(async (layer) => {
                    const latLng = layer.getLatLng();
                    if (Math.abs(latLng.lat - city.lat) < 0.01 && Math.abs(latLng.lng - city.lon) < 0.01) {
                        if (!weatherData[city.name]) {
                            const weather = await fetchWeather(city);
                            if (weather) {
                                layer.bindPopup(createPopupContent(city, weather)).openPopup();
                            }
                        } else {
                            layer.bindPopup(createPopupContent(city, weatherData[city.name])).openPopup();
                        }
                    }
                });
            }
        }

        // Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ù†Ù‚Ø´Ù‡
        function initMap() {
            map = L.map('map').setView([32.4279, 53.6880], 6);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'Â© OpenStreetMap contributors',
                maxZoom: 18
            }).addTo(map);

            // Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø§Ø±Ú©Ø±Ù‡Ø§ÛŒ Ø´Ù‡Ø±Ù‡Ø§
            iranCities.forEach(city => addMarker(city));
            map.addLayer(markers);

            // Ù¾Ø± Ú©Ø±Ø¯Ù† Ù…Ù†ÙˆÛŒ Ø§Ø³ØªØ§Ù†â€ŒÙ‡Ø§
            populateProvinces();

            // Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§
            document.getElementById('provinceSelect').addEventListener('change', function() {
                const province = this.value;
                filterCitiesByProvince(province);
                document.getElementById('citySelect').value = '';
            });

            document.getElementById('citySelect').addEventListener('change', function() {
                const cityName = this.value;
                if (cityName) {
                    zoomToCity(cityName);
                }
            });

            // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ù‡Ø± 10 Ø¯Ù‚ÛŒÙ‚Ù‡
            setInterval(() => {
                weatherData = {};
                loadedCount = 0;
                updateStats();
            }, 600000);

            // Ø­Ø°Ù loading
            setTimeout(() => {
                document.getElementById('loadingOverlay').style.display = 'none';
            }, 1000);
        }

        // Ø§Ø¬Ø±Ø§ÛŒ Ø¨Ø±Ù†Ø§Ù…Ù‡
        window.addEventListener('load', initMap);
    </script>
</body>
</html>
